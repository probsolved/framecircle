<div class="container py-4">
  <div class="d-flex justify-content-between align-items-start mb-3">
    <div>
      <h1 class="h4 mb-1">Your Profile</h1>
      <div class="text-muted small"><%= current_user.email %></div>
    </div>
    <%= link_to "Edit Profile", edit_account_path, class: "btn btn-primary" %>
  </div>

  <div class="card shadow-sm">
    <div class="card-body d-flex gap-3 align-items-center">
      <div class="flex-shrink-0">
        <% if current_user.respond_to?(:avatar) && current_user.avatar.attached? %>
        <%= image_tag url_for(current_user.avatar), class: "rounded-circle border", style: "width:72px;height:72px;object-fit:cover;" %>
        <% else %>
        <div class="rounded-circle border bg-light d-flex align-items-center justify-content-center" style="width:72px;height:72px;">
          <span class="text-muted fw-semibold"><%= current_user.email.to_s.first&.upcase %></span>
        </div>
        <% end %>
      </div>

      <div class="min-w-0">
        <div class="fw-semibold"><%= current_user.display_name.presence || "No display name yet" %></div>
        <div class="text-muted small">Location: <%= current_user.location.presence || "Not set" %></div>

        <% if current_user.frames_profile_url.present? %>
        <div class="small">
          <%= link_to "52Frames Profile", current_user.frames_profile_url, target: "_blank", rel: "noopener" %>
        </div>
        <% else %>
        <div class="small text-muted">52Frames profile not set</div>
        <% end %>
      </div>
    </div>
  </div>
</div>